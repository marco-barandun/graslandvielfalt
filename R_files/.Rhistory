lat = ~Latitude, lng = ~Longitude,
popup = ~paste("ID: ", paste0('<a target="_parent" href=', .$link, '>', .$ID, ' </a>', sep = ""),
"\nElevation: ", round(elevation, 0),
"\nDate veg: ", date_veg,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF") %>%
addCircleMarkers(data = NON_BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste(ID, round(elevation, 0), sep = " - "),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "NON_BFF") %>%
addLegend(pal = pal, values = plots$priority,
position = "bottomright", title = "Value") %>%
addScaleBar(position = "bottomleft") %>%
setView(lng = 9, lat = 46.4, zoom = 8) %>%
addPolygons(data = poly,
fill = FALSE,
color = "darkorange",
opacity = 0.9,
group = "Bewirtschaftungseinheiten") %>%
addAwesomeMarkers(data = gsheet,
lat = ~Latitude, lng = ~Longitude,
icon = ~awesomeIcons(
icon = "leaf",
markerColor = "green",
iconColor = "white",
library = "fa"
),
labelOptions = labelOptions(noHide = TRUE, textOnly = TRUE),
label = lapply(gsheet$ID, HTML),
clusterOptions = markerClusterOptions(removeOutsideVisibleBounds = FALSE),
group = "Done Plots") %>%
addWMSTiles(
baseUrl = "https://wms.geo.admin.ch/",
layers = "ch.bav.haltestellen-oev",
group = "Public Transport Stops",
options = WMSTileOptions(format = "image/png", transparent = TRUE)
) %>%
addLayersControl(
baseGroups = c("Swiss Topographic Map", "Satellite View"),
overlayGroups = c("DONE_BFF", "DONE_NON_BFF", "BFF", "NON_BFF", "Done Plots", "Bewirtschaftungseinheiten", "Public Transport Stops"),
options = layersControlOptions(collapsed = TRUE)
) %>%
hideGroup(c("DONE_BFF", "DONE_NON_BFF", "Bewirtschaftungseinheiten", "Public Transport Stops", "Done Plots")) %>%
addFullscreenControl() %>%
addEasyButton(
easyButton(
icon = "fa-crosshairs",
title = "Locate Me",
onClick = JS(
"function(btn, map) {
map.locate({setView: true, enableHighAccuracy: true});
map.on('locationfound', function(e) {
var lat = e.latlng.lat;
var lng = e.latlng.lng;
var customIcon = L.icon({
iconUrl: './icons/my_position.png',
iconSize: [52, 52],
iconAnchor: [16, 32]
});
L.marker([lat, lng], { icon: customIcon }).addTo(map);
});
}"
)
)
)
)
DONE_BFF <- plots %>% filter(LU2020 == TRUE) %>% filter(ID %in% gsheet$ID)
DONE_NON_BFF <- plots %>% filter(LU2020 == FALSE | is.na(LU2020))%>% filter(ID %in% gsheet$ID)
BFF <- plots %>% filter(LU2020 == TRUE) %>% filter(!ID %in% gsheet$ID)
NON_BFF <- plots %>% filter(LU2020 == FALSE | is.na(LU2020))%>% filter(!ID %in% gsheet$ID)
(m <- leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste("ID: ", paste0('<a target="_parent" href=', .$link, '>', .$ID, ' </a>', sep = ""),
"\nElevation: ", round(elevation, 0),
"\nDate veg: ", date_veg,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF") %>%
addCircleMarkers(data = NON_BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste(ID, round(elevation, 0), sep = " - "),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "NON_BFF") %>%
addLegend(pal = pal, values = plots$priority,
position = "bottomright", title = "Value") %>%
addScaleBar(position = "bottomleft") %>%
setView(lng = 9, lat = 46.4, zoom = 8) %>%
addPolygons(data = poly,
fill = FALSE,
color = "darkorange",
opacity = 0.9,
group = "Bewirtschaftungseinheiten") %>%
addAwesomeMarkers(data = gsheet,
lat = ~Latitude, lng = ~Longitude,
icon = ~awesomeIcons(
icon = "leaf",
markerColor = "green",
iconColor = "white",
library = "fa"
),
labelOptions = labelOptions(noHide = TRUE, textOnly = TRUE),
label = lapply(gsheet$ID, HTML),
clusterOptions = markerClusterOptions(removeOutsideVisibleBounds = FALSE),
group = "Done Plots") %>%
addWMSTiles(
baseUrl = "https://wms.geo.admin.ch/",
layers = "ch.bav.haltestellen-oev",
group = "Public Transport Stops",
options = WMSTileOptions(format = "image/png", transparent = TRUE)
) %>%
addLayersControl(
baseGroups = c("Swiss Topographic Map", "Satellite View"),
overlayGroups = c("DONE_BFF", "DONE_NON_BFF", "BFF", "NON_BFF", "Done Plots", "Bewirtschaftungseinheiten", "Public Transport Stops"),
options = layersControlOptions(collapsed = TRUE)
) %>%
hideGroup(c("DONE_BFF", "DONE_NON_BFF", "Bewirtschaftungseinheiten", "Public Transport Stops", "Done Plots")) %>%
addFullscreenControl() %>%
addEasyButton(
easyButton(
icon = "fa-crosshairs",
title = "Locate Me",
onClick = JS(
"function(btn, map) {
map.locate({setView: true, enableHighAccuracy: true});
map.on('locationfound', function(e) {
var lat = e.latlng.lat;
var lng = e.latlng.lng;
var customIcon = L.icon({
iconUrl: './icons/my_position.png',
iconSize: [52, 52],
iconAnchor: [16, 32]
});
L.marker([lat, lng], { icon: customIcon }).addTo(map);
});
}"
)
)
)
)
(m <- leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste("ID: ", paste0('<a target="_parent" href=', .$link, '>', .$ID, ' </a>', sep = ""),
"\nElevation: ", round(.$elevation, 0),
"\nDate veg: ", .$date_veg,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF") %>%
addCircleMarkers(data = NON_BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste(ID, round(elevation, 0), sep = " - "),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "NON_BFF") %>%
addLegend(pal = pal, values = plots$priority,
position = "bottomright", title = "Value") %>%
addScaleBar(position = "bottomleft") %>%
setView(lng = 9, lat = 46.4, zoom = 8) %>%
addPolygons(data = poly,
fill = FALSE,
color = "darkorange",
opacity = 0.9,
group = "Bewirtschaftungseinheiten") %>%
addAwesomeMarkers(data = gsheet,
lat = ~Latitude, lng = ~Longitude,
icon = ~awesomeIcons(
icon = "leaf",
markerColor = "green",
iconColor = "white",
library = "fa"
),
labelOptions = labelOptions(noHide = TRUE, textOnly = TRUE),
label = lapply(gsheet$ID, HTML),
clusterOptions = markerClusterOptions(removeOutsideVisibleBounds = FALSE),
group = "Done Plots") %>%
addWMSTiles(
baseUrl = "https://wms.geo.admin.ch/",
layers = "ch.bav.haltestellen-oev",
group = "Public Transport Stops",
options = WMSTileOptions(format = "image/png", transparent = TRUE)
) %>%
addLayersControl(
baseGroups = c("Swiss Topographic Map", "Satellite View"),
overlayGroups = c("DONE_BFF", "DONE_NON_BFF", "BFF", "NON_BFF", "Done Plots", "Bewirtschaftungseinheiten", "Public Transport Stops"),
options = layersControlOptions(collapsed = TRUE)
) %>%
hideGroup(c("DONE_BFF", "DONE_NON_BFF", "Bewirtschaftungseinheiten", "Public Transport Stops", "Done Plots")) %>%
addFullscreenControl() %>%
addEasyButton(
easyButton(
icon = "fa-crosshairs",
title = "Locate Me",
onClick = JS(
"function(btn, map) {
map.locate({setView: true, enableHighAccuracy: true});
map.on('locationfound', function(e) {
var lat = e.latlng.lat;
var lng = e.latlng.lng;
var customIcon = L.icon({
iconUrl: './icons/my_position.png',
iconSize: [52, 52],
iconAnchor: [16, 32]
});
L.marker([lat, lng], { icon: customIcon }).addTo(map);
});
}"
)
)
)
)
(m <- leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste("ID: ", paste0('<a target="_parent" href=', .$link, '>', .$ID, ' </a>', sep = ""),
"\nElevation: ", round(as.numeric(.$elevation), 0),
"\nDate veg: ", .$date_veg,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF") %>%
addCircleMarkers(data = NON_BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste(ID, round(elevation, 0), sep = " - "),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "NON_BFF") %>%
addLegend(pal = pal, values = plots$priority,
position = "bottomright", title = "Value") %>%
addScaleBar(position = "bottomleft") %>%
setView(lng = 9, lat = 46.4, zoom = 8) %>%
addPolygons(data = poly,
fill = FALSE,
color = "darkorange",
opacity = 0.9,
group = "Bewirtschaftungseinheiten") %>%
addAwesomeMarkers(data = gsheet,
lat = ~Latitude, lng = ~Longitude,
icon = ~awesomeIcons(
icon = "leaf",
markerColor = "green",
iconColor = "white",
library = "fa"
),
labelOptions = labelOptions(noHide = TRUE, textOnly = TRUE),
label = lapply(gsheet$ID, HTML),
clusterOptions = markerClusterOptions(removeOutsideVisibleBounds = FALSE),
group = "Done Plots") %>%
addWMSTiles(
baseUrl = "https://wms.geo.admin.ch/",
layers = "ch.bav.haltestellen-oev",
group = "Public Transport Stops",
options = WMSTileOptions(format = "image/png", transparent = TRUE)
) %>%
addLayersControl(
baseGroups = c("Swiss Topographic Map", "Satellite View"),
overlayGroups = c("DONE_BFF", "DONE_NON_BFF", "BFF", "NON_BFF", "Done Plots", "Bewirtschaftungseinheiten", "Public Transport Stops"),
options = layersControlOptions(collapsed = TRUE)
) %>%
hideGroup(c("DONE_BFF", "DONE_NON_BFF", "Bewirtschaftungseinheiten", "Public Transport Stops", "Done Plots")) %>%
addFullscreenControl() %>%
addEasyButton(
easyButton(
icon = "fa-crosshairs",
title = "Locate Me",
onClick = JS(
"function(btn, map) {
map.locate({setView: true, enableHighAccuracy: true});
map.on('locationfound', function(e) {
var lat = e.latlng.lat;
var lng = e.latlng.lng;
var customIcon = L.icon({
iconUrl: './icons/my_position.png',
iconSize: [52, 52],
iconAnchor: [16, 32]
});
L.marker([lat, lng], { icon: customIcon }).addTo(map);
});
}"
)
)
)
)
plots
DONE_BFF
leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste("ID: ", paste0('<a target="_parent" href=', .$link, '>', .$ID, ' </a>', sep = ""),
"\nElevation: ", round(as.numeric(.$elevation), 0),
"\nDate veg: ", .$date_veg,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF")
leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste("ID: ", paste0('<a target="_parent" href=', ~link, '>', ~ID, ' </a>', sep = ""),
"\nElevation: ", round(~elevation, 0),
"\nDate veg: ", ~date_veg,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF")
leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste("ID: ", paste0('<a target="_parent" href=', ~link, '>', ~ID, ' </a>', sep = ""),
"\nElevation: ", round(as.numeric(~elevation), 0),
"\nDate veg: ", ~date_veg,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF")
leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste("ID: ", paste0('<a target=\"_parent\" href=', link, '>', ID, ' </a>', sep = ""),
"\nElevation: ", round(as.numeric(elevation), 0),
"\nDate veg: ", date_veg,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF")
View(gsheet)
View(plots)
plots <- read_csv("./2023-joinedPlotSelection_v3.csv") %>%
filter(!priority %in% c("MP5", "MP6", "MP7")) %>%
mutate(link = paste0("http://www.google.ch/maps/place/", Latitude, ",", Longitude)) %>%
left_join(gsheet, by = "ID")
View(plots)
colnames(plots)
plots <- read_csv("./2023-joinedPlotSelection_v3.csv") %>%
filter(!priority %in% c("MP5", "MP6", "MP7")) %>%
mutate(link = paste0("http://www.google.ch/maps/place/", Latitude, ",", Longitude)) %>%
left_join(gsheet %>% select("ID", "done_veg "), by = "ID")
plots <- read_csv("./2023-joinedPlotSelection_v3.csv") %>%
filter(!priority %in% c("MP5", "MP6", "MP7")) %>%
mutate(link = paste0("http://www.google.ch/maps/place/", Latitude, ",", Longitude)) %>%
left_join(gsheet %>% select("ID", "done_veg"), by = "ID")
DONE_BFF <- plots %>% filter(LU2020 == TRUE) %>% filter(ID %in% gsheet$ID)
DONE_NON_BFF <- plots %>% filter(LU2020 == FALSE | is.na(LU2020))%>% filter(ID %in% gsheet$ID)
BFF <- plots %>% filter(LU2020 == TRUE) %>% filter(!ID %in% gsheet$ID)
NON_BFF <- plots %>% filter(LU2020 == FALSE | is.na(LU2020))%>% filter(!ID %in% gsheet$ID)
leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste("ID: ", paste0('<a target=\"_parent\" href=', link, '>', ID, ' </a>', sep = ""),
"\nElevation: ", round(as.numeric(elevation), 0),
"\nDate veg: ", date_veg,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF")
plots
plots <- read_csv("./2023-joinedPlotSelection_v3.csv") %>%
filter(!priority %in% c("MP5", "MP6", "MP7")) %>%
mutate(link = paste0("http://www.google.ch/maps/place/", Latitude, ",", Longitude)) %>%
left_join(gsheet %>% select("ID", "date_veg"), by = "ID")
DONE_BFF <- plots %>% filter(LU2020 == TRUE) %>% filter(ID %in% gsheet$ID)
DONE_NON_BFF <- plots %>% filter(LU2020 == FALSE | is.na(LU2020))%>% filter(ID %in% gsheet$ID)
BFF <- plots %>% filter(LU2020 == TRUE) %>% filter(!ID %in% gsheet$ID)
NON_BFF <- plots %>% filter(LU2020 == FALSE | is.na(LU2020))%>% filter(!ID %in% gsheet$ID)
leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste("ID: ", paste0('<a target=\"_parent\" href=', link, '>', ID, ' </a>', sep = ""),
"\nElevation: ", round(as.numeric(elevation), 0),
"\nDate veg: ", date_veg,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF")
leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste(paste0('<a target=\"_parent\" href=', link, '>', ID, ' </a>', sep = ""),
"<br>Elevation: ", round(as.numeric(elevation), 0),
"<br>Date veg: ", date_veg,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF")
leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = DONE_BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste(paste0('<a target=\"_parent\" href=', link, '>', ID, ' </a>', sep = ""),
"<br>Elevation: ", round(as.numeric(elevation), 0),
"<br>Date veg: ", date_veg,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF")
plots <- read_csv("./2023-joinedPlotSelection_v3.csv") %>%
filter(!priority %in% c("MP5", "MP6", "MP7")) %>%
mutate(link = paste0("http://www.google.ch/maps/place/", Latitude, ",", Longitude)) %>%
left_join(gsheet %>% select("ID", "date_veg", "coord_inprec"), by = "ID")
# Filter the points with LU2020 column set to true
DONE_BFF <- plots %>% filter(LU2020 == TRUE) %>% filter(ID %in% gsheet$ID)
leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = DONE_BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste(paste0('<a target=\"_parent\" href=', link, '>', ID, ' </a>', sep = ""),
"<br>Elevation: ", round(as.numeric(elevation), 0),
"<br>Slope: ", round(as.numeric(slope), 0),
"<br>Date veg: ", date_veg,
"<br>",
"<br><b>Precise coords:</b>: ", coord_inprec,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF")
leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = DONE_BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste(paste0('<a target=\"_parent\" href=', link, '>', ID, ' </a>', sep = ""),
"<br>Elevation: ", round(as.numeric(elevation), 0),
"<br><b>Slope:</b> ", round(as.numeric(slope), 0),
"<br>Date veg: ", date_veg,
"<br>",
"<br><b>Precise coords:</b> ", coord_inprec,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF")
leaflet(plots) %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Swiss Topographic Map") %>%
addTiles(urlTemplate = "https://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",
attribution = '&copy; <a href="https://www.geo.admin.ch/de/about-swiss-geoportal/impressum.html#copyright">swisstopo</a>',
group = "Satellite View") %>%
addCircleMarkers(data = DONE_BFF,
lat = ~Latitude, lng = ~Longitude,
popup = ~paste(paste0('<a target=\"_parent\" href=', link, '>', ID, ' </a>', sep = ""),
"<br>Elevation: ", round(as.numeric(elevation), 0),
"<br><b>Slope:</b> ", round(as.numeric(slope), 0),
"<br>Date veg: ", date_veg,
"<br>",
"<br><b>Precise coords:</b> ", coord_inprec,
"<br><b>Moss collected:</b> ", coord_inprec,
sep = ""),
radius = 8, stroke = FALSE, fillOpacity = 1, color = ~pal(priority),
group = "BFF")
